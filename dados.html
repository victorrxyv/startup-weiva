<!doctype html>
<html lang="pt-br">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dados do Usuário</title>
  <link rel="icon" type="image/png" href="imagens/logo-weiva.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
  <div class="container mt-5">
    <h2>Dados do Usuário</h2>
    <p><strong>Nome:</strong> <span id="userName"></span></p>
    <p><strong>Email:</strong> <span id="userEmail"></span></p>
    <p><strong>Região:</strong> <span id="userRegion"></span></p>

    <button id="logoutButton" class="btn btn-danger mt-3">Logout</button>
  </div>

  <script>
    // Verifica se o usuário está logado
    window.onload = function () {
      const isLoggedIn = localStorage.getItem('isLoggedIn');
      if (isLoggedIn !== 'true') {
        window.location.href = 'login.html'; // Redireciona para login se não estiver logado
      } else {
        // Mostra os dados do usuário
        document.getElementById('userName').textContent = localStorage.getItem('userName');
        document.getElementById('userEmail').textContent = localStorage.getItem('userEmail');
        document.getElementById('userRegion').textContent = localStorage.getItem('userCity');
      }
    };

    // Logout
    document.getElementById('logoutButton').addEventListener('click', function () {
      localStorage.removeItem('isLoggedIn');
      localStorage.removeItem('userName'); // Remover nome do localStorage
      localStorage.removeItem('userEmail');
      localStorage.removeItem('userCity'); // Remover região do localStorage
      window.location.href = 'index.html'; // Redireciona para login após logout
    });
  </script>
</body>
</html>
